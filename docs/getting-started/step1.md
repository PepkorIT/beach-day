# Project and Environment Setup

## 1. Project Setup

The source files for this tutorial are all available under `/docs/getting-started/src` [go there](src/)

**1.1\. Install Node and GIT**

First, install:
- [GIT](https://git-scm.com/)
- [Node.js 6.x LTS](https://nodejs.org/)

**1.2\. Start a project**

To start a project, create a directory on your machine. Then in the command line `cd` to that folder. Initalise your project with a [package.json file](https://docs.npmjs.com/getting-started/using-a-package.json) using this command:  
```
npm init
```

> This process should ask you a number of questions about your project. As your project will not available as a public npm module, you can safely leave all of these as the suggested defaults. If successful this should have created a [package.json file](https://docs.npmjs.com/getting-started/using-a-package.json) in your project root.
>
> beach-day is an npm module. You can read more about npm [here](https://www.npmjs.com/)
  
**1.3\. Install beach-day module**

```
npm install git+ssh://gogs@git.pdws.co.za:922/PepkorIT/beach-day.git#master --save
```
This will download beach-day and save it as a project dependency in your `package.json` file.

**1.4\. Install peer dependencies**

```
+-- UNMET PEER DEPENDENCY jasmine@^2.4.1
+-- UNMET PEER DEPENDENCY jasmine-spec-reporter@^2.4.0
`-- UNMET PEER DEPENDENCY tv4@^1.2.7
```

NPM will inform you about unmet peer dependencies. These are modules that beach-day works along side with and will need to be installed. You can read more about peer dependencies [here](https://nodejs.org/en/blog/npm/peer-dependencies/).

It's very possible that the module versions required will have changed from the above. Use the module versions your console gives you and install **each** required module, for example:

```
npm install jasmine@^2.4.1 jasmine-spec-reporter@^2.4.0 tv4@^1.2.7 --save
```

> It is not advisable to commit the `node_modules` folder generated by npm to GIT. Anyone who uses your project can run `npm install` in the root of the project to get all the dependencies.

## 2. Jasmine Setup

**2.1\. Create Jasmine Boot File**

We need to setup Jasmine and configure it to use beach-day. We do this by means of a jasmine node [boot file](https://jasmine.github.io/2.4/boot.html).

Create a file called `boot.js` and place it in your project root. Then paste the following into the file:

```javascript
// Import the required dependencies for the booting of jasmine
var BeachDayReporter    = require("beach-day").BeachDayReporter;
var Jasmine             = require("jasmine");
var SpecReporter        = require("jasmine-spec-reporter");

// Create a new instance of the jasmine framework
var jasmineInst         = new Jasmine();

// Setup sensible timeout amount for the jasmine tests
// We don't want our jasmine tests to timeout before an http call has been completed
global["jasmine"].DEFAULT_TIMEOUT_INTERVAL = 10000; // milliseconds

// Disable default jasmine reporter
jasmineInst.configureDefaultReporter({ print: function () { } });

// Add the spec reporter for console reporting
// https://github.com/bcaudan/jasmine-spec-reporter
jasmineInst.addReporter(new SpecReporter({
    displayStacktrace: "all"
}));

// Add an instance of the beach-day custom HTML reporter
// All the default config is used
jasmineInst.addReporter(new BeachDayReporter());

// Load up a jasmine config for the test environment
jasmineInst.loadConfigFile("jasmine_config.json");

// Run the jasmine instance to start all tests
jasmineInst.execute();
```

> When installing beach-day, npm will have installed Jasmine and everything else you need as peer dependencies.

**2.2\. Configure Jasmine**

Next we need to tell Jasmine where our tests are located. We do this with a `jasmine_config.json` file (also in the root) with the following:

```json
{
    "spec_dir": "tests",
    "spec_files": [
        "**/*[tT]est.js"
    ],
    "helpers": [
        "helpers/**/*.js"
    ],
    "stopSpecOnExpectationFailure": false,
    "random": false
}
```

**2.3\. Add Our First Test**

Lets add a basic test to ensure our environment is all setup and working. Create a new file under `tests/demo1-test.js` with the content:

```javascript
describe("Demo 1 - Using the reporter", function(){
    var world = {status:"all well"};

    it("Ensure the world exists", function(){
        expect(world).toBeDefined();
    });
});
```

**2.4\. Run Our Test**

Finally, we can run our tests by using the following command:

```
node boot.js
```

**VERY IMPORTANT**

The beach-day report output one of the framework's most valuable features. Be sure to check out the report generated after every test run.
You can view the report by opening `reports/beach-day-report.html` in your browser.
In step 3 we add API calls that can then be viewed in detail in the report.

> If there is no report please ensure you don't have an errors in the command line or reread this step to make sure everything is correct.

### [>> Next: Beach-day Fundamentals](step2.md)